<div
        fxLayout
        fxLayout.xs="column"
        fxLayoutAlign="center"
        fxLayoutGap="10px"
        fxLayoutGap.xs="0">
    <div fxFlex="auto">
        <md-card class="card" >
            <md-card-header>
                <md-card-title>
                    Projects
                </md-card-title>
                <md-card-subtitle>
                    <br>
                    <md-select placeholder="Filter" [(ngModel)]="position">
                        <md-option *ngFor="let position of positions" [value]="position">{{position}}</md-option>
                    </md-select>
                </md-card-subtitle>
            </md-card-header>
            <md-card-content>
                <md-tab-group #tab>
                    <!--<md-tab label="Created Projects">
                        <div class="content table-responsive table-full-width">
                            <table class="table table-hover table-striped">
                                <thead>
                                <th>No</th>
                                <th>Name</th>
                                <th>Budget</th>
                                <th>Team members</th>
                                <th>Progress</th>
                                </thead>
                                <tbody *ngFor="let project of projects;let i=index">
                                <tr *ngIf="positionSearch(project.team)">
                                    <td (click)="openProjectDashboard(i)" >{{ i+1 }}</td>
                                    <td>
                                        <project-edit (editProject)="editProject(i,$event)" [project]="project"></project-edit>
                                    </td>
                                    <td *ngIf="project.budget">$ {{ project?.budget }}</td>
                                    <td *ngIf="!project.budget">No budget</td>
                                    <td (click)="openProjectTeam(i)" >
                                        {{project.team?.length}}
                                    </td>
                                    <td>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar"  [ngStyle]="{'width': progress[i]+'%'}" [attr.aria-valuenow]="progress[i]" [attr.aria-valuemin]="0" [attr.aria-valuemax]="progressF[i]">{{progress[i]}}%</div>
                                        </div>
                                    </td>
                                </tr>

                                </tbody>
                            </table>
                        </div>
                    </md-tab>-->
                    <!-- Data table -->
                    <md-tab label="Data Table">
                        <div class="example-container mat-elevation-z8">
                            <md-table #table [dataSource]="dataSource">
                                <!--- Note that these columns can be defined in any order.
                                      The actual rendered columns are set as a property on the row definition" -->

                                <!-- Progress Column -->
                                <ng-container cdkColumnDef="Name">
                                    <md-header-cell *cdkHeaderCellDef> Name </md-header-cell>
                                    <md-cell *cdkCellDef="let row" (click)="openProjectDashboard(row._id)"> {{row.name}} </md-cell>
                                </ng-container>

                                <ng-container cdkColumnDef="Budget">
                                    <md-header-cell *cdkHeaderCellDef> Budget </md-header-cell>
                                    <md-cell *cdkCellDef="let row"> $ {{ row?.budget }}</md-cell>
                                </ng-container>

                                <ng-container cdkColumnDef="Description">
                                    <md-header-cell *cdkHeaderCellDef> Description </md-header-cell>
                                    <md-cell *cdkCellDef="let row"> {{row.description}} </md-cell>
                                </ng-container>

                                <ng-container cdkColumnDef="Members">
                                    <md-header-cell *cdkHeaderCellDef> Team Members </md-header-cell>
                                    <md-cell *cdkCellDef="let row" (click)="openProjectTeam(row._id)" > {{row?.team.length}} </md-cell>
                                </ng-container>

                                <ng-container cdkColumnDef="Progress">
                                    <md-header-cell *cdkHeaderCellDef> Progress </md-header-cell>
                                    <md-cell *cdkCellDef="let row;let _i=index" >
                                        <md-progress-bar
                                            color="primary"
                                            mode="mode"
                                            value="{{progress[_i]}}">
                                    </md-progress-bar>
                                    </md-cell>
                                </ng-container>



                                <md-header-row *cdkHeaderRowDef="displayedColumns"></md-header-row>
                                <md-row *cdkRowDef="let row; columns: displayedColumns; " ></md-row>
                            </md-table>
                            <md-paginator #paginator
                                          [length]="projects.length"
                                          [pageIndex]="0"
                                          [pageSize]="5"
                                          [pageSizeOptions]="[5, 10, 25, 100]">
                            </md-paginator>
                        </div>
                    </md-tab>
                    <!-- // Data table -->

                    <md-tab label="Create Project">
                        <project-create (projectCreated)="addProject($event)" [email]="user.email"></project-create>
                    </md-tab>
                </md-tab-group>
            </md-card-content>
            <md-card-footer>
                <md-divider></md-divider>
                <md-icon>history</md-icon> Updated {{ projectUpdated | timeAgo}}
            </md-card-footer>
        </md-card>
    </div>
</div>



